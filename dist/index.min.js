!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("axios")):"function"==typeof define&&define.amd?define(["axios"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).XYAxios=t(e.axios)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function s(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,h(e,t,"get"))}function f(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,h(e,t,"set"),n),n}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function d(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function v(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function p(e,t,n){v(e,t),t.set(e,n)}var b=new WeakMap,y=new WeakSet,g=function(){function e(){var t,n;i(this,e),v(t=this,n=y),n.add(t),p(this,b,{writable:!0,value:void 0}),f(this,b,new Map)}return u(e,[{key:"add",value:function(e){var t=d(this,y,w).call(this,e),n=new AbortController;s(this,b).has(t)&&s(this,b).get(t).abort(),e.signal=n.signal,s(this,b).set(t,n)}},{key:"remove",value:function(e){var t=d(this,y,w).call(this,e);s(this,b).has(t)&&s(this,b).delete(t)}},{key:"clear",value:function(){var e=this;s(this,b).forEach((function(t,n){t.abort(),s(e,b).delete(n)}))}}]),e}();function w(e){var t=e.method,n=e.baseURL,r=e.url;return"".concat(t.toLocaleLowerCase(),".").concat(n).concat(r)}function m(e){return function(e,t){return Object.prototype.toString.call(e).slice(8,-1)===t}(e,"Function")}var j=new WeakMap,O=new WeakMap,k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),p(this,j,{writable:!0,value:void 0}),p(this,O,{writable:!0,value:void 0});var r=t.enableAbortController,a=t.interceptorRequest,u=t.interceptorRequestCatch,l=t.interceptorResponse,c=t.interceptorResponseCatch;f(this,j,o({},t)),f(this,O,n.default.create(s(this,j)));var h=new g;s(this,O).interceptors.request.use((function(e){return r&&!1!==e.enableAbortController&&h.add(e),m(a)&&a(e),e}),(function(e){return m(u)&&u(e),Promise.reject(e)})),s(this,O).interceptors.response.use((function(e){return h.remove(e.config),m(l)&&l(e,h),"10000"===e.data.code?e.data:e}),(function(e){return m(c)&&c(e),Promise.reject(e)}))}return u(e,[{key:"store",get:function(){return s(this,O)}},{key:"request",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,r){s(e,O).request(o({},t)).then((function(e){n(e.data)}),(function(e){r(e)})).catch((function(e){r(e)}))}))}},{key:"post",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(o({method:"post",url:e,data:t},n))}},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(o({method:"get",url:e,params:t},n))}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(o({method:"delete",url:e,data:t},n))}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(o({method:"put",url:e,data:t},n))}},{key:"upload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.post(e,t,o({headers:{"Content-Type":"multipart/form-data"}},n))}},{key:"download",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(o({url:e,baseURL:"",method:"get",responseType:"blob"},t))}}]),e}();return k}));
